<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>aria.api</title>
    <link rel="stylesheet" href="../styles/main_styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <link href='https://css.gg/css' rel='stylesheet'>
    <script type="text/javascript"
            src="https://res.cloudinary.com/veseylab/raw/upload/v1636192990/magicmouse/magic_mouse-1.2.1.cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
    <script src="//rawgithub.com/browserstate/ajaxify/master/ajaxify-html5.js"></script>
    <script src="//browserstate.github.io/history.js/scripts/bundled/html4+html5/jquery.history.js"></script>
    <script type="text/javascript" src="main/scripts/jquery.history.js"></script>
</head>

<body>

<!--CUSTOM LOADER AT THE TOP OF THE PAGE-->
<div class="loader">
    <div class="loader__element"></div>
</div>

<!--CUSTOM CURSOR-->
<div class="cursor"></div>

<!--NAVIGATION BAR-->
<div class="navbar">
    <div class="selector-wrapper">
        <span class="selected">.api()</span>
        <span><a class="infoBtn" href="#instructionModal">i.</a></span>
        <ul class="selector">
            <li><a class="myLink active" divId="div1" id="home" href="home">.api()</a></li>
            <li><a class="myLink " divId="div2" id="trace" href="trace">.trace()</a></li>
            <li><a class="myLink " divId="div3" id="saved" href="saved">.saved()</a></li>
            <li><a class="myLink " divId="div4" id="contact" href="contact">.contact()</a></li>
        </ul>
    </div>
</div>

<!--LEFT LINE ANIMATION-->
<div class="clearLeft">
    <div class="align">
        <div class="circle"></div>
        <div class="circle_pulse" id="pulsating"></div>
        <div class="border1"></div>
        <div class="border2" id="border2"></div>
    </div>
</div>

<!--ARIA TITLE-->
<div class="myDiv" id="div5">
    <div class="clearTop"></div>
    <div class="constantTitle">
        <span class="first">aria</span>
    </div>
</div>

<!--MAIN PAGE CONTENT-->
<div class="main">

</div>

<!--INSTRUCTIONS POP-UP-->
<div id="instructionModal" class="modal" style="background-color: #0c0c0c">
    <div class="modalTitle">
        <span class="modalFirst">aria</span><span class="modalSecond">.usage('<span class="p1">i</span>nfo')</span>
    </div>
    <div class="description">
        <p>How to use the .trace() function</p>
    </div>
    <div class="description2">
        <span>.trace().instructions = {</span>
    </div>
    <div class="modalInstructions">
        <p>
            &#160;&#160;&#160;&#160;<span class="p1">step1</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">elit. Lorem ipsum dolor sit amet.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step2</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step3</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">elit. Lorem ipsum dolor sit amet. Lorem ipsum</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">dolor sit amet, consectetur adipiscing.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step4</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing.</span>'
        </p>
    </div>
    <div class="modalDescription3">
        <span>}</span>
    </div>
</div>

<!--VISUAL FADE EFFECT AT THE BOTTOM OF THE SCREEN-->
<div id="bottom_fade"></div>

</body>

<!--SCRIPT FOR SITE ANIMATIONS-->
<script>

    <!--SCROLLS TO THE TOP OF THE PAGE-->
    function scrollToTop() {
        $(window).scrollTop(0)
    }

    <!--UPDATES THE LEFTMOST TEXT IN THE NAVBAR TO DISPLAY WHICH TAB IS CURRENTLY ACTIVE-->
    function updateSelected() {
        $(".selected").text($(".selector a[class*='active']").text()).fadeIn(700);
    }

    <!--MOMENTARILY ENABLES THE PULSATING EFFECT OF THE DOT NEXT TO THE PAGE TITLE-->
    function pulse() {
        $("#pulsating").show();
        $('#pulsating').delay(1950).fadeOut();
    }

    <!--MOMENTARILY ENABLES THE CUSTOM LOADER AT THE TOP OF THE PAGE-->
    function showLoader() {
        $(".loader").show();
        $('.loader').delay(1350).fadeOut(300);
    }

    <!--DISABLES SCROLLING ON THE PAGE-->
    function disableScrolling() {
        $('body, html').addClass('stop-scrolling2')
    }

    <!--ENABLES SCROLLING ON THE PAGE-->
    function enableScrolling() {
        $('body, html').removeClass('stop-scrolling2');
    }

    <!--ENABLES PART OF THE LINE ANIMATION ON THE LEFT SIDE OF THE SCREEN-->
    function enableBorder() {
        $("#border2").delay(2000).addClass("border2")
        $(".border2").hide();
    }

    <!--DISABLED PREVIOUSLY MENTIONED LINE ANIMATION-->
    function disableBorder() {
        $("#border2").removeClass("border2")
    }

    <!--CHANGES THE TYPEWRITER ANIMATION OF THE TITLE BASED ON WHICH TAB IS ACTIVE-->
    function typeWriter(divId) {
        if (divId === 'div1') {
            $('.second').css({width: '6ch', animation: 'typing 0.5s steps(6), blink .7s step-end infinite alternate'});
        } else if (divId === 'div2' || divId === 'div3') {
            $('.second').css({width: '8ch', animation: 'typing 0.5s steps(8), blink .7s step-end infinite alternate'});
        } else {
            $('.second').css({
                width: '10ch',
                animation: 'typing 0.5s steps(10), blink .7s step-end infinite alternate'
            });
        }
    }

    <!--MAKES THE UPPER LINE VISIBLE ON THE LEFT SIDE OF THE SCREEN WHEN THE USER SCROLLS DOWN THE PAGE-->
    window.addEventListener("scroll", () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll > 0) {
            $(".border2").show();
        } else
            $(".border2").fadeOut(300);
    });

    <!--DISABLES SCROLLING IN THE Y-DIRECTION (HAS TO BE USED FOR THE POP-UP MODAL)-->
    /*$('body').addClass('stop-scrolling1')
    $('.navbar').removeClass(' disable_nav');
    $(document).on("click", function () {
        $('body').addClass('stop-scrolling1');
        $('.navbar').removeClass(' disable_nav');
    });*/

    <!--BRINGS UP THE POP-UP INSTRUCTION WINDOW ON THE CLICK OF THE YELLOW LETTER 'i' IN THE NAVBAR-->
    $('a[href="#instructionModal"]').on("click",function () {
        $(this).modal({
            showClose: false,
            fadeDuration: 300,
        })
        //$('body').removeClass('stop-scrolling1');
    });

    <!--COPIES THE EMAIL ADDRESS TO THE USERS CLIPBOARD ONCE THEY CLICK ON IT IN THE CONTACT TAB-->
    new ClipboardJS('.email');

    <!--ANIMATIONS THAT PLAY WHEN THE USER CHANGES TABS FROM THE NAVBAR-->
    function newTabLoad(tab) {
        disableBorder();
        disableScrolling();
        $(".selector a").removeClass(" active");

        $('.border1, .circle, .circle_pulse, .main').fadeOut();
        setTimeout(scrollToTop, 400);
        let divId;
        if (tab === 'home') {
            divId = 'div1';
            $('.selector a[href=home]').addClass(" active");
            setTimeout(enableScrolling, 2500);
        } else if (tab === 'trace') {
            divId = 'div2';
            $('.selector a[href=trace]').addClass(" active");
            setTimeout(enableScrolling, 2500);
        } else if (tab === 'saved') {
            divId = 'div3';
            $('.selector a[href=saved]').addClass(" active");
            setTimeout(enableScrolling, 2500);
        } else if (tab === 'contact') {
            divId = 'div4';
            $('.selector a[href=contact]').addClass(" active");
            disableScrolling();
        }

        showLoader();
        $(".selected").fadeOut(300);
        setTimeout(updateSelected, 500);

        $(".circle, .border1").delay(700).fadeIn();

        setTimeout(pulse, 1200);
        setTimeout(enableBorder, 2000);
        setTimeout(function () {
            typeWriter(divId)
        }, 1000);

        $(".main").delay(1000).fadeIn(500);
    }

    <!--AJAX SCRIPT-->
    let History = window.History;

    $(function(){
        <!--ANIMATIONS THAT PLAY WHEN THE USER LOADS INTO THE WEBSITE FOR THE FIRST TIME-->
        History.pushState({path: 'home'}, 'home', './home');
        disableScrolling();
        $(".main, #div5, .constantTitleDiv, .navbar, .border1, .border2, .circle, .circle_pulse, .loader").hide();
        setTimeout(updateSelected, 500);

        setTimeout(function () {
            disableScrolling();
            scrollToTop();
            enableBorder();
            showLoader();

            $('#div5').fadeIn(2000);
            $(".border1").hide().delay(1000).show(200);
            $(".circle").delay(900).fadeIn(300);
            setTimeout(pulse, 1200);
            typeWriter('div1');

            $('.main, .constantTitleDiv, .navbar').delay(1000).fadeIn(2000);
            setTimeout(enableScrolling, 2500);
            setTimeout(enableBorder, 2500)
        }, 500);

        if (History.enabled) {
            let page = get_url_value('page');
            let path = page ? page : 'home';

            load_page_content(path);
        } else {
            return false;
        }

        <!--UPDATE PAGE CONTENT ON PRESS OF BACK/FORWARD-->
        History.Adapter.bind(window, 'statechange', function() {
            let State = History.getState();

            load_page_content(State.data.path);

            History.log(State);
        });

        // Navigation link handler
        $('.myLink').on('click', function(e) {
            e.preventDefault();

            let urlPath = $(this).attr('href');
            let title = $(this).text();

            History.pushState({path: urlPath}, title, './' + urlPath);
        });

        $('#expand').on("click", function () {
            History.pushState({path: 'trace'}, 'trace', './trace');

            $.ajax({
                type: 'GET',
                url: '../html/trace.html',
                dataType: 'html',
                success: function (result) {
                    newTabLoad('trace')
                    setTimeout(function () {
                        $( ".main" ).empty();
                        $('.main').html(result)
                    }, 500);
                }
            });
        });

        function load_page_content(page) {
            $.ajax({
                type: 'GET',
                url: '../html/' + page + '.html',
                dataType: 'html',
                success: function (result) {
                    newTabLoad(page)
                    setTimeout(function () {
                        $( ".main" ).empty();
                        $('.main').html(result)
                    }, 500);
                }
            });
        }

        function get_url_value(variable) {
            let query = window.location.search.substring(1);
            let vars = query.split("&");
            for (let i=0;i<vars.length;i++) {
                let pair = vars[i].split("=");
                if(pair[0] === variable){return pair[1];}
            }
            return(false);
        }
    });


</script>

<!--SCRIPT FOR THE CUSTOM CURSOR-->
<script>
    const updateProperties = (elem, state) => {

        elem.style.setProperty('--x', `${state.x}px`)
        elem.style.setProperty('--y', `${state.y}px`)
        elem.style.setProperty('--width', `${state.width}px`)
        elem.style.setProperty('--height', `${state.height}px`)
        elem.style.setProperty('--radius', state.radius)
        elem.style.setProperty('--scale', state.scale)

    }

    document.querySelectorAll('.cursor').forEach((cursor) => {

        let onElement

        const createState = (e) => {

            const defaultState = {
                x: e.clientX,
                y: e.clientY,
                width: 42,
                height: 42,
                radius: '100px'
            }

            const computedState = {}

            if (onElement != null) {
                const {top, left, width, height} = onElement.getBoundingClientRect()
                const radius = window.getComputedStyle(onElement).borderTopLeftRadius

                computedState.x = left + width / 2
                computedState.y = top + height / 2
                computedState.width = width
                computedState.height = height
                computedState.radius = radius
            }

            return {
                ...defaultState,
                ...computedState
            }

        }

        document.addEventListener('mousemove', (e) => {
            const state = createState(e)
            updateProperties(cursor, state)
        })

        /*document.querySelectorAll('a, button').forEach((elem) => {
            elem.addEventListener('mouseenter', () => onElement = elem)
            elem.addEventListener('mouseleave', () => onElement = undefined)
        })*/
    })
</script>
