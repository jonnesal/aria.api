<form id="sendSonginfo">
    <div class="myDiv" id="div2">
        <div class="clearTop"></div>
        <div class="title">
            <span class="first">aria</span>
            <span class="second">.trace()</span>
        </div>
        <div class="description">
            <p>&#47;treɪs jɔːr ˈɑːrɪə&#47;</p>
        </div>
        <div class="description2">
        <span>Seeking something missing, <br>
        missing something left behind.</span>
        </div>
        <div class="trace-container">
            <div class="floating">
                <div class="tilt-container js-tilt">
                    <div class="flip-container">
                        <div class="flipper">
                            <div class="sdcard-container front">
                                <div class="sdcard-container2 js-tilt2">
                                    <div class="form__group1 field1">
                                        <input type="input" class="form__field" placeholder="Artist" name="name"
                                               id='name'
                                               autocomplete="off" required/>
                                        <label for="name" class="form__label">.artist</label>
                                    </div>
                                    <div class="form__group2 field2">
                                        <input type="input" class="form__field" placeholder="Song" name="song"
                                               id="song"
                                               autocomplete="off" required/>
                                        <label for="name" class="form__label">.title</label>
                                    </div>
                                </div>
                                <img src="../assets/images/sd_bot.png" class="sdcardbot">
                                <img class="cover">
                                <img src="../assets/images/overlay1.png" class="overlay1">
                                <img src="../assets/images/overlay2.png" class="overlay2">
                                <img src="../assets/images/overlay3.png" class="overlay3">
                                <img src="../assets/images/overlay4.png" class="overlay4">
                                <img src="../assets/images/sd_top.png" class="sdcardtop">
                            </div>
                            <div class="sdcard-container3 back">
                                <div class="sdcard-container2 js-tilt2">
                                    <div class="songInfo">
                                        <span class="songTitle1"><span class="purple">.title</span>:</span> <br>
                                        <span class="songTitle2"></span> <br>
                                        <span class="songArtists1"><span class="purple">.featured_artists</span>:</span> <br>
                                        <span class="songArtists2"></span> <br>
                                        <span class="songAlbum1"><span class="purple">.album</span>:</span> <br>
                                        <span class="songAlbum2"></span> <br>
                                        <span class="songDate1"><span class="purple">.release_date</span>:</span> <br>
                                        <span class="songDate2"></span> <br>
                                        <span class="songProducers1"><span class="purple">.production</span>:</span> <br>
                                        <span class="songProducers2"></span>
                                    </div>

                                </div>
                                <img src="../assets/images/sd_back.png" class="sdcardback">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" name="submitbutton" id="mysubmitbutton" class="customButton1">
                    <span class="gg-search"></span>
                </button>
                <button type="button" name="flipbutton" id="flip" class="customButton2">
                    <span class="gg-more-alt"></span>
                </button>
                <button type="button" name="savebutton" id="save" class="customButton3">
                    <span class="gg-bookmark"></span>
                </button>
            </div>
            <div class="lyrics-container">
                <pre class="lyrics" id="lyrics"></pre>
            </div>
        </div>
    </div>
</form>

<!--SCRIPT FOR THE 3D TILT EFFECT-->
<script src="../scripts/tilt.js"></script>

<!--API RELATED SCRIPT FOR THE .TRACE() FUNCTION-->
<script>
    $("#sendSonginfo").on("submit", function (e) {
        e.preventDefault()
        let artist = $("#name").val();
        let title = $("#song").val();

        $.post("http://localhost:8081/trace",
            {
                'artist': artist,
                'title': title
            },
            function (data) {
                console.log(data);
                $(".lyrics").html((data.songLyrics));
                $(".cover").fadeOut('slow').promise().done(function(){
                    $(".cover").attr("src",data.albumArt).fadeIn();
                });

                $(".songTitle2").html(data.songFullTitle);
                $(".songArtists2").html(data.artistsList.join(", "));
                $(".songAlbum2").html(data.albumName);
                $(".songDate2").html(data.releaseDate);
                $(".songProducers2").html(data.producerList.join(", "));
            });
    });

    //SAVE
    $('.customButton3').on("click",function () {
        let dt = new Date();
        let time = dt.getFullYear() + "-"
            + (dt.getMonth() + 1) + "-"
            + dt.getDate() + " "
            + dt.getHours() + ":"
            + dt.getMinutes() + ":"
            + dt.getSeconds();
        $.post("http://localhost:8081/saved",
            {
                'time': time
            })
    });

    $('.js-tilt').tilt({
        maxTilt: 8,
        scale: 1.1,
        easing: "cubic-bezier(.03,.98,.52,.99)",
        speed: 100
    });

    $('.js-tilt2').tilt({
        maxTilt: 8,
        scale: 1.1,
        easing: "cubic-bezier(.03,.98,.52,.99)",
        speed: 300
    });

    <!--ROTATES THE SD CARD-->
    $('.customButton2').click(function () {
        $('.flip-container').toggleClass('hover');
        $(this).css('transform, rotateY(180deg)');
    });
</script>

