<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Title</title>
    <link rel="stylesheet" href="../styles/main_styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <script type="text/javascript"
            src="https://res.cloudinary.com/veseylab/raw/upload/v1636192990/magicmouse/magic_mouse-1.2.1.cdn.min.js"></script>
</head>
<body>

<div class="loader">
    <div class="loader__element"></div>
</div>

<div class="cursor"></div>

<div class="navbar">
    <div class="selector-wrapper">
        <span class="selected">.api()</span>
        <span><a class="infoBtn" href="#ex1">i.</a></span>
        <ul class="selector">
            <li><a class="myLink active" divId="div1" href="#Home">.api()</a></li>
            <li><a class="myLink " divId="div2" href="#Trace">.trace()</a></li>
            <li><a class="myLink " divId="div3" href="#Saved">.saved()</a></li>
            <li><a class="myLink " divId="div4" href="#Contact">.contact()</a></li>
        </ul>
    </div>
</div>

<div class="clearLeft">
    <div class="align">
        <div class="circle"></div>
        <div class="circle_pulse" id="pulsating"></div>
        <div class="border1"></div>
        <div class="border2" id="border2"></div>
    </div>
</div>

<div class="myDiv" id="div5">
    <div class="clearTop"></div>
    <div class="constantTitle">
        <span class="first">aria</span>
    </div>
</div>

<div class="myDiv" id="div1">
    <div class="clearTop"></div>
    <div class="title">
        <span class="first">aria</span>
        <span class="second">.api()</span>
    </div>
    <div class="description">
        <p>/ˈɑːrɪə/</p>
    </div>
    <div class="description2">
        <span>In music, an aria is a self-<br>
        contained piece for one voice.</span>
    </div>
    <div class="home-container">
        <span class="span3">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            Egestas sed sed risus pretium quam vulputate. Aliquet sagittis id
            consectetur purus ut faucibus pulvinar elementum. Enim praesent
            elementum facilisis leo vel fringilla est ullamcorper eget.
            Quis auctor elit sed vulputate mi sit amet mauris. Sollicitudin
            nibh sit amet commodo nulla. Cras tincidunt lobortis feugiat vivamus at.
            Sed turpis tincidunt id aliquet. Quisque sagittis purus sit amet
            volutpat consequat mauris nunc. Malesuada pellentesque elit eget
            gravida cum sociis natoque penatibus. Viverra nam libero justo
            laoreet sit amet cursus sit amet. Amet consectetur adipiscing
            elit ut aliquam. Lorem ipsum dolor sit amet.</span>
        <span class="span3">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            Egestas sed sed risus pretium quam vulputate. Aliquet sagittis id
            consectetur purus ut faucibus pulvinar elementum. Enim praesent
            elementum facilisis leo vel fringilla est ullamcorper eget.
            Quis auctor elit sed vulputate mi sit amet mauris. Sollicitudin
            nibh sit amet commodo nulla. Cras tincidunt lobortis feugiat vivamus at.
            Sed turpis tincidunt id aliquet. Quisque sagittis purus sit amet
            volutpat consequat mauris nunc. Malesuada pellentesque elit eget
            gravida cum sociis natoque penatibus. Viverra nam libero justo
            laoreet sit amet cursus sit amet. Amet consectetur adipiscing
            elit ut aliquam. Lorem ipsum dolor sit amet.</span>
    </div>

</div>

<div class="myDiv" id="div2">
    <div class="clearTop"></div>
    <div class="title">
        <span class="first">aria</span>
        <span class="second">.trace()</span>
    </div>
    <div class="description">
        <p>&#47;treɪs jɔːr ˈɑːrɪə&#47;</p>
    </div>
    <div class="description2">
        <span>Seeking something missing, <br>
        missing something left behind.</span>
    </div>
    <div class="trace-container">
        <div class="sdcard-container js-tilt" data-tilt>
            <!--<div class="overlay"></div>-->
            <div class="sdcard-container2 js-tilt2" data-tilt>
                <span class="tilt-logo-inner1">EXCLUSIVELY AT<br><span style="color: #FFC300"> &#47;&#47;</span>aria.api</span>
                <span class="tilt-logo-inner2">LOCK <span>&#9650;</span></span>
            </div>
            <img src="../assets/images/sd_top.png" class="sdcardtop">
            <img src="../assets/images/overlay4.png" class="overlay4">
            <img src="../assets/images/overlay3.png" class="overlay3">
            <img src="../assets/images/overlay2.png" class="overlay2">
            <img src="../assets/images/overlay1.png" class="overlay1">
            <img src="../assets/images/cover.png" class="cover">
            <img src="../assets/images/sd_bot.png" class="sdcardbot">
        </div>

    </div>
</div>

<div class="myDiv" id="div3">
    <div class="clearTop"></div>
    <div class="title">
        <span class="first">aria</span>
        <span class="second">.saved()</span>
    </div>
</div>

<div class="myDiv" id="div4">
    <div class="clearTop"></div>
    <div class="title">
        <span class="first" id="first">aria</span>
        <span class="second" id="second">.contact()</span>
    </div>
    <div class="description">
        <p>&#47;ˈkɒntækt ˌɪnfəˈmeɪʃən&#47;</p>
    </div>

    <div class="contact-container">
        <div class="contact1">
            <p>
                student1 = {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span>fname:</span> 'Svyatoslav',<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span>lname:</span> 'Beletskiy',<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<a class="email tooltip" data-clipboard-text="svyatosb@metropolia.fi"
                                           href="mailto:svyatosb@metropolia.fi"
                                           data-title="Copy to clipboard">email:</a> 'svyatosb@metropolia.fi'<br>
                };
            </p>
        </div>
        <div class="contact2">
            <p>
                student1 = {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span>fname:</span> 'Jonne',<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span>lname:</span> 'Salli',<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<a class="email tooltip" data-clipboard-text="jonne.salli@metropolia.fi"
                                           href="mailto:jonne.salli@metropolia.fi"
                                           data-title="Copy to clipboard">email:</a> 'jonne.salli@metropolia.fi'<br>
                };
            </p>
        </div>
    </div>
</div>

<div id="ex1" class="modal" style="background-color: #0c0c0c">
    <div class="modalTitle">
        <span class="modalFirst">aria</span><span class="modalSecond">.usage('<span class="p1">i</span>nfo')</span>
    </div>
    <div class="description">
        <p>How to use the .trace() function</p>
    </div>
    <div class="description2">
        <span>.trace().instructions = {</span>
    </div>
    <div class="modalInstructions">
        <p>
            &#160;&#160;&#160;&#160;<span class="p1">step1</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">elit. Lorem ipsum dolor sit amet.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step2</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step3</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">elit. Lorem ipsum dolor sit amet. Lorem ipsum</span>'
            +
            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;'<span class="green">dolor sit amet, consectetur adipiscing.</span>',<br><br>
            &#160;&#160;&#160;&#160;<span class="p1">step4</span>: '<span class="green">Lorem ipsum dolor sit amet, consectetur adipiscing.</span>'
        </p>
    </div>
    <div class="modalDescription3">
        <span>}</span>
    </div>
</div>

<div id="bottom_fade"></div>

<script src="tilt.js"></script>
</body>

<!--FRONT-END RELATED SCIRPTS-->
<script>
    $('.js-tilt').tilt({
        maxTilt: 8,
        scale: 1.1,
        easing: "cubic-bezier(.03,.98,.52,.99)",
        speed: 100,
    });

    $('.js-tilt2').tilt({
        maxTilt: 12,
        scale: 1.1,
        easing: "cubic-bezier(.03,.98,.52,.99)",
        speed: 300,
    });

    const updateSelected = () => {
        $(".selected").text($("a[class*='active']").text()).fadeIn(700);
    }

    const scrollToTop = () => {
        $(window).scrollTop(0)
    }

    function typeWriter(divId) {
        if (divId === 'div1') {
            $('.second').css({width: '6ch', animation: 'typing 0.5s steps(6), blink .7s step-end infinite alternate'});
        } else if (divId === 'div2') {
            $('.second').css({width: '8ch', animation: 'typing 0.5s steps(8), blink .7s step-end infinite alternate'});
        } else if (divId === 'div3') {
            $('.second').css({width: '8ch', animation: 'typing 0.5s steps(8), blink .7s step-end infinite alternate'});
        } else {
            $('.second').css({
                width: '10ch',
                animation: 'typing 0.5s steps(10), blink .7s step-end infinite alternate'
            });
        }
    }

    function pulse() {
        $("#pulsating").show();
        $('#pulsating').delay(1950).fadeOut();
    }

    function showLoader() {
        $(".loader").show();
        $('.loader').delay(1350).fadeOut(300);
    }

    function enableScrolling() {
        $('body, html').removeClass('stop-scrolling2');
    }

    function disableScrolling() {
        $('body, html').addClass('stop-scrolling2')
    }

    function enableBorder() {
        $("#border2").delay(2000).addClass("border2")
        $(".border2").hide();
    }

    function disableBorder() {
        $("#border2").removeClass("border2")
    }

    window.addEventListener("scroll", () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll > 0) {
            $(".border2").show();
        } else
            $(".border2").fadeOut(300);
    });

    $(function () {
        disableScrolling();
        $("#div1, #div2, #div3, #div4, #div5, .constantTitleDiv, .navbar, .border1, .border2, .circle, .circle_pulse, .loader").hide();

        setTimeout(function() {
            disableScrolling();
            scrollToTop();
            enableBorder();
            showLoader();

            $('#div5').fadeIn(2000);
            $(".border1").hide().delay(1000).show(200);
            $(".circle").delay(900).fadeIn(300);
            setTimeout(pulse, 1200);

            $('#div1, .constantTitleDiv, .navbar').delay(1000).fadeIn(2000);
            setTimeout(enableScrolling, 2500);
            setTimeout(enableBorder, 2500)
        }, 500);
    });

    $('.email').on("click", function () {
        let value = $(this).data('clipboard-text');
        let $temp = $("<input>");
        $("body").append($temp);
        $temp.val(value).select();
        document.execCommand("copy");
        $temp.remove();
    })

    $(".selector a").click(function () {
        $("a").removeClass("active");
        $(this).addClass(" active");
        $(".selected").fadeOut(300);
        setTimeout(updateSelected, 500);
    });

    $(".myLink").click(function () {
        disableBorder();
        disableScrolling();
        $('.myDiv, .border1, .circle, .circle_pulse').not($('#div5')).fadeOut();
        let divId = $(this).attr("divId");
        if (divId === 'div4')
            disableScrolling();
        else
            setTimeout(enableScrolling, 2000);

        showLoader();

        $(".circle, .border1").delay(700).fadeIn();

        setTimeout(pulse, 1200);
        setTimeout(scrollToTop, 400);
        setTimeout(enableBorder, 2000);
        typeWriter(divId);

        $("#" + divId).delay(1000).fadeIn(500);
    });

    $('body').addClass('stop-scrolling1')
    $(document).on("click", function () {
        $('body').addClass('stop-scrolling1')
    });

    $('a[href="#ex1"]').click(function (event) {
        event.preventDefault();
        $(this).modal({
            showClose: false,
            fadeDuration: 300
        })
        $('body').removeClass('stop-scrolling1')
    });

</script>

<!--API RELATED SCRIPTS -->
<script>
    const songInfo = require('./main/api_directory/api');


</script>

<!--CUSTOM CURSOR-->
<script>
    const updateProperties = (elem, state) => {

        elem.style.setProperty('--x', `${state.x}px`)
        elem.style.setProperty('--y', `${state.y}px`)
        elem.style.setProperty('--width', `${state.width}px`)
        elem.style.setProperty('--height', `${state.height}px`)
        elem.style.setProperty('--radius', state.radius)
        elem.style.setProperty('--scale', state.scale)

    }

    document.querySelectorAll('.cursor').forEach((cursor) => {

        let onElement

        const createState = (e) => {

            const defaultState = {
                x: e.clientX,
                y: e.clientY,
                width: 42,
                height: 42,
                radius: '100px'
            }

            const computedState = {}

            if (onElement != null) {
                const {top, left, width, height} = onElement.getBoundingClientRect()
                const radius = window.getComputedStyle(onElement).borderTopLeftRadius

                computedState.x = left + width / 2
                computedState.y = top + height / 2
                computedState.width = width
                computedState.height = height
                computedState.radius = radius
            }

            return {
                ...defaultState,
                ...computedState
            }

        }

        document.addEventListener('mousemove', (e) => {
            const state = createState(e)
            updateProperties(cursor, state)
        })

        /*document.querySelectorAll('a, button').forEach((elem) => {
            elem.addEventListener('mouseenter', () => onElement = elem)
            elem.addEventListener('mouseleave', () => onElement = undefined)
        })*/

    })

</script>
</html>